@if (user(); as user) {
<td
  editable-cell
  [control]="userForm.controls.id"
  [isEditing]="isEditing()"
  [formId]="formId()"
  name="id"
  type="hidden"
  [value]="user.id"
></td>

<td
  editable-cell
  [control]="userForm.controls.name"
  [isEditing]="isEditing()"
  [formId]="formId()"
  name="name"
  [value]="user.name"
  [focusOnEdit]="isEditing()"
></td>

<td
  editable-cell
  [control]="userForm.controls.username"
  [isEditing]="isEditing()"
  [formId]="formId()"
  name="username"
  [value]="user.username"
></td>

<td
  editable-cell
  [control]="userForm.controls.email"
  [isEditing]="isEditing()"
  [formId]="formId()"
  name="email"
  [value]="user.email"
></td>

<td>
  <button type="button" (click)="isEditing() ? onCancel() : onEdit()">
    {{ isEditing() ? "Cancel" : "Edit" }}
  </button>
</td>

@if (isEditing()) {
<td>
  <form [id]="formId()" [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <button type="submit">Save</button>
  </form>
</td>
} }
